/* Malleable Reader v1.0 - February 2026 */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%; width: 100%; overflow: hidden;
  background: #000;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  -webkit-font-smoothing: antialiased;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  user-select: none; -webkit-user-select: none;
}

/* Desktop phone frame */
.m-frame { width: 100%; height: 100%; position: relative; overflow: hidden; }

@media (min-width: 600px) {
  body { display: flex; align-items: center; justify-content: center; background: #111; }
  .m-frame {
    width: 390px; height: 844px; max-height: 95vh;
    border-radius: 40px; overflow: hidden;
    box-shadow: 0 0 0 8px #222, 0 20px 60px rgba(0,0,0,0.5);
  }
}

/* Pages */
.m-pages { position: relative; width: 100%; height: 100%; }

.m-page {
  position: absolute; inset: 0;
  display: flex; flex-direction: column; justify-content: flex-end;
  opacity: 0; visibility: hidden; transition: opacity 0.3s ease;
  overflow: hidden;
}
.m-page.active { opacity: 1; visibility: visible; z-index: 2; }

/* Frame border */
.m-page::before {
  content: ''; position: absolute; inset: 0;
  border: 14px solid var(--frame-colour, #0E394F);
  opacity: var(--frame-opacity, 0.9);
  z-index: 10; pointer-events: none;
}
@media (min-width: 600px) { .m-page::before { border-radius: 32px; } }

/* Backgrounds */
.m-bg { position: absolute; inset: 0; z-index: 0; }
.m-bg img, .m-bg video { width: 100%; height: 100%; object-fit: cover; display: block; }

/* Text content */
.m-content { position: relative; z-index: 5; padding: 28px 30px 40px; }
.m-content--img::before {
  content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 65%;
  background: linear-gradient(to top, rgba(0,0,0,0.72) 0%, rgba(0,0,0,0.35) 55%, transparent 100%);
  z-index: -1; pointer-events: none;
}
.m-content--img { color: #fff; }
.m-content--clr { color: #111; }

.m-section {
  font-size: 11px; font-weight: 600; letter-spacing: 0.12em;
  text-transform: uppercase; margin-bottom: 10px; opacity: 0.7;
}
.m-title { font-size: 24px; font-weight: 700; line-height: 1.2; margin-bottom: 8px; }
.m-text { font-size: 15px; line-height: 1.55; opacity: 0.88; max-width: 340px; }
.m-link {
  display: inline-block; margin-top: 14px; font-size: 13px; font-weight: 600;
  text-decoration: none; color: inherit; opacity: 0.7;
  border-bottom: 1px solid currentColor; padding-bottom: 1px;
}

/* Cover */
.m-cover .m-content { padding-bottom: 44px; }
.m-logo { position: absolute; top: 44px; left: 30px; z-index: 5; height: 18px; width: auto; }
@media (min-width: 600px) { .m-logo { top: 56px; } }
.m-cover-meta { font-size: 11px; font-weight: 500; letter-spacing: 0.06em; opacity: 0.6; margin-bottom: 14px; }
.m-highlights { list-style: none; }
.m-highlights li { font-size: 15px; line-height: 1.5; opacity: 0.85; margin-bottom: 4px; }

/* Quote page */
.m-quote { justify-content: center; }
.m-quote .m-content { padding: 60px 34px; }
.m-quote .m-content::before { display: none; }
.m-quote-text { font-size: 22px; font-weight: 500; line-height: 1.45; font-style: italic; margin-bottom: 16px; }
.m-quote-author { font-size: 13px; font-weight: 600; opacity: 0.6; }

/* Close page */
.m-close { justify-content: center; }
.m-close .m-content { text-align: center; padding: 60px 34px; }
.m-close .m-content::before { display: none; }
.m-close-msg { font-size: 20px; font-weight: 600; margin-bottom: 30px; }
.m-close-links { display: flex; flex-direction: column; gap: 12px; align-items: center; }
.m-close-links a {
  font-size: 14px; font-weight: 500; text-decoration: none; color: inherit;
  opacity: 0.65; border-bottom: 1px solid currentColor;
}
.m-close-meta { margin-top: 40px; font-size: 11px; opacity: 0.4; }

/* Progress bars */
.m-progress {
  position: absolute; top: 0; left: 0; right: 0;
  display: flex; gap: 4px; padding: 10px 18px 0; z-index: 20;
}
.m-bar { flex: 1; height: 2px; background: rgba(255,255,255,0.25); border-radius: 1px; }
.m-bar.visited, .m-bar.active { background: rgba(255,255,255,0.8); }

/* Tap zones */
.m-tap { position: absolute; top: 0; bottom: 0; z-index: 15; cursor: pointer; }
.m-tap--prev { left: 0; width: 30%; }
.m-tap--next { right: 0; width: 70%; }
